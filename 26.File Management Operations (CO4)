#include <stdio.h>
#include <stdlib.h>
#include <string.h>

void create_file() {
    char filename[100], text[500];
    printf("Enter file name to create: ");
    scanf("%s", filename);
    FILE *fp = fopen(filename, "w");
    if (!fp) { perror("fopen"); return; }
    printf("Enter text (end with single '.' on a line):\n");
    while (1) {
        getchar(); // consume newline
        fgets(text, sizeof(text), stdin);
        if (strcmp(text, ".\n") == 0) break;
        fputs(text, fp);
    }
    fclose(fp);
    printf("File '%s' created successfully.\n", filename);
}

void display_file() {
    char filename[100], line[500];
    printf("Enter file name to display: ");
    scanf("%s", filename);
    FILE *fp = fopen(filename, "r");
    if (!fp) { perror("fopen"); return; }
    printf("File Contents:\n");
    while (fgets(line, sizeof(line), fp)) printf("%s", line);
    fclose(fp);
}

int main() {
    int choice;
    while (1) {
        printf("\n1.Create 2.Display 0.Exit\nEnter choice: ");
        scanf("%d", &choice);
        switch(choice) {
            case 1: create_file(); break;
            case 2: display_file(); break;
            case 0: exit(0);
            default: printf("Invalid choice.\n");
        }
    }
    return 0;
}
