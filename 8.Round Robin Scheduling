#include <stdio.h>

int main(){
    int n, qt; printf("Number of processes: "); scanf("%d", &n);
    int bt[n], rem[n];
    for(int i=0;i<n;i++){ printf("P%d burst: ", i+1); scanf("%d", &bt[i]); rem[i]=bt[i]; }
    printf("Time quantum: "); scanf("%d", &qt);

    int t=0, done=0; int wt[n]; for(int i=0;i<n;i++) wt[i]=0;
    while (done < n) {
        int any = 0;
        for (int i=0;i<n;i++){
            if (rem[i] > 0){
                any = 1;
                int used = (rem[i] > qt) ? qt : rem[i];
                rem[i] -= used; t += used;
                if (rem[i] == 0){ done++; wt[i] = t - bt[i]; }
            }
        }
        if (!any) break;
    }
    printf("P\tBT\tWT\tTAT\n"); double awt=0, atat=0;
    for (int i=0;i<n;i++){ int tat = bt[i]+wt[i]; printf("P%d\t%d\t%d\t%d\n", i+1, bt[i], wt[i], tat); awt+=wt[i]; atat+=tat; }
    printf("Avg WT=%.2f Avg TAT=%.2f\n", awt/n, atat/n);
    return 0;
