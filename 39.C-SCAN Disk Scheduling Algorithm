#include <stdio.h>
#include <stdlib.h>

int main() {
    int n, head, i, j, temp, seek=0;
    printf("Enter number of requests: ");
    scanf("%d",&n);
    int req[n];
    printf("Enter request queue: ");
    for(i=0;i<n;i++) scanf("%d",&req[i]);
    printf("Enter initial head position: ");
    scanf("%d",&head);
    int disk_size;
    printf("Enter disk size (max cylinder): ");
    scanf("%d",&disk_size);

    // Add head and disk limits
    int req2[n+2];
    for(i=0;i<n;i++) req2[i]=req[i];
    req2[n]=head; req2[n+1]=disk_size-1; // end cylinder
    n+=2;

    // Sort array
    for(i=0;i<n-1;i++)
        for(j=i+1;j<n;j++)
            if(req2[i]>req2[j]){
                temp=req2[i]; req2[i]=req2[j]; req2[j]=temp;
            }

    int idx;
    for(i=0;i<n;i++) if(req2[i]==head){ idx=i; break; }

    printf("C-SCAN sequence:\n");
    for(i=idx;i<n;i++){
        printf("%d ", req2[i]);
        if(i>idx) seek+=abs(req2[i]-req2[i-1]);
    }
    seek += abs(req2[n-1]-0); // wrap-around
    for(i=0;i<idx;i++){
        printf("%d ", req2[i]);
        if(i>0) seek += abs(req2[i]-req2[i-1]);
    }

    printf("\nTotal seek operations: %d\n", seek);
    return 0;
}
